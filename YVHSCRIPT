local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Lighting = game:GetService("Lighting")
local StarterGui = game:GetService("StarterGui")
local VirtualUser = game:GetService("VirtualUser")
local VirtualInputManager = game:GetService("VirtualInputManager")
local LocalPlayer = Players.LocalPlayer

pcall(function()
	StarterGui:SetCore("SendNotification", {
		Title = "Notice";
		Text = "use script with blue box if it doesnt load ur executor is weak";
		Duration = 10;
	})
end)

pcall(function()
	StarterGui:SetCore("SendNotification", {
		Title = "Anti-AFK";
		Text = "3 Layers of Anti-AFK Enabled";
		Duration = 5;
	})
end)

local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local Title = Instance.new("TextLabel")
local MinimizeButton = Instance.new("TextButton")
local MinCorner = Instance.new("UICorner")
local SearchBar = Instance.new("TextBox")
local SearchCorner = Instance.new("UICorner")
local ContentFrame = Instance.new("ScrollingFrame")
local UIListLayout = Instance.new("UIListLayout")

ScreenGui.Name = "yvh script"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.Position = UDim2.new(0.5, -110, 0.5, -200)
MainFrame.Size = UDim2.new(0, 220, 0, 400)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.ClipsDescendants = true

UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

Title.Name = "Title"
Title.Parent = MainFrame
Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1.000
Title.Position = UDim2.new(0, 12, 0, 8)
Title.Size = UDim2.new(0.7, 0, 0, 30)
Title.Font = Enum.Font.GothamBold
Title.Text = "yvh script"
Title.TextColor3 = Color3.fromRGB(220, 220, 220)
Title.TextSize = 16.000
Title.TextXAlignment = Enum.TextXAlignment.Left

MinimizeButton.Name = "MinimizeButton"
MinimizeButton.Parent = MainFrame
MinimizeButton.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
MinimizeButton.Position = UDim2.new(1, -38, 0, 8)
MinimizeButton.Size = UDim2.new(0, 25, 0, 25)
MinimizeButton.Font = Enum.Font.GothamBold
MinimizeButton.Text = "-"
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.TextSize = 18.000
MinimizeButton.AutoButtonColor = true

MinCorner.CornerRadius = UDim.new(0, 6)
MinCorner.Parent = MinimizeButton

SearchBar.Name = "SearchBar"
SearchBar.Parent = MainFrame
SearchBar.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
SearchBar.Position = UDim2.new(0, 10, 0, 45)
SearchBar.Size = UDim2.new(1, -20, 0, 30)
SearchBar.Font = Enum.Font.Gotham
SearchBar.PlaceholderText = "Search..."
SearchBar.Text = ""
SearchBar.TextColor3 = Color3.fromRGB(255, 255, 255)
SearchBar.TextSize = 14.000
SearchBar.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)

SearchCorner.CornerRadius = UDim.new(0, 8)
SearchCorner.Parent = SearchBar

ContentFrame.Name = "ContentFrame"
ContentFrame.Parent = MainFrame
ContentFrame.BackgroundTransparency = 1
ContentFrame.Position = UDim2.new(0, 0, 0, 85)
ContentFrame.Size = UDim2.new(1, 0, 1, -85)
ContentFrame.ScrollBarThickness = 2
ContentFrame.BorderSizePixel = 0
ContentFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
ContentFrame.CanvasSize = UDim2.new(0, 0, 0, 0)

UIListLayout.Parent = ContentFrame
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 6)
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center

local function createButton(text, order)
	local btn = Instance.new("TextButton")
	local corner = Instance.new("UICorner")
	btn.Name = text
	btn.Parent = ContentFrame
	btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	btn.Size = UDim2.new(0, 200, 0, 35)
	btn.Font = Enum.Font.GothamBold
	btn.Text = text
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.TextSize = 14.000
	btn.AutoButtonColor = true
	btn.LayoutOrder = order
	corner.CornerRadius = UDim.new(0, 8)
	corner.Parent = btn
	return btn
end

local FarmButton = createButton("Farm Coins", 1)
local FarmWinsButton = createButton("Auto Farm Wins", 2)
local KillAllButton = createButton("Kill All Players", 3)
local LoadBlueBoxButton = createButton("Load Blue Box Script", 4)
local AnnoyButton = createButton("Annoy Server", 5)
local RitualButton = createButton("Homer Ritual", 6)
local PlatformButton = createButton("Platform", 7)
local ESPButton = createButton("Wireframe ESP", 8)
local FullbrightButton = createButton("Fullbright", 9)
local TPToolButton = createButton("TP Tool", 10)
local SpawnButton = createButton("TP to Spawn", 11)

SearchBar:GetPropertyChangedSignal("Text"):Connect(function()
	local text = SearchBar.Text:lower()
	for _, child in pairs(ContentFrame:GetChildren()) do
		if child:IsA("GuiObject") then
			if child.Name:lower():find(text) then
				child.Visible = true
			else
				child.Visible = false
			end
		end
	end
end)

local dragging, dragInput, dragStart, startPos
local function update(input)
	local delta = input.Position - dragStart
	MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

MainFrame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = MainFrame.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then dragging = false end
		end)
	end
end)

MainFrame.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		dragInput = input
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if input == dragInput and dragging then update(input) end
end)

local minimized = false
local originalSize = MainFrame.Size

MinimizeButton.MouseButton1Click:Connect(function()
	minimized = not minimized
	if minimized then
		ContentFrame.Visible = false
		SearchBar.Visible = false
		MainFrame.Size = UDim2.new(0, 220, 0, 40)
		MinimizeButton.Text = "+"
	else
		ContentFrame.Visible = true
		SearchBar.Visible = true
		MainFrame.Size = originalSize
		MinimizeButton.Text = "-"
	end
end)

local farming = false
local farmTarget = Vector3.new(-33.01, 210.90, 110.05)

FarmButton.MouseButton1Click:Connect(function()
	farming = not farming
	if farming then
		FarmButton.Text = "Stop Farm"
		FarmButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
	else
		FarmButton.Text = "Farm Coins"
		FarmButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	end
end)

local farmWins = false
local winTarget = Vector3.new(56.80, 141.50, -60.41)

FarmWinsButton.MouseButton1Click:Connect(function()
	farmWins = not farmWins
	if farmWins then
		FarmWinsButton.Text = "Wins: ON"
		FarmWinsButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
		task.spawn(function()
			while farmWins do
				if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
					LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(winTarget)
				end
				task.wait(10)
			end
		end)
	else
		FarmWinsButton.Text = "Auto Farm Wins"
		FarmWinsButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	end
end)

local killAllActive = false
KillAllButton.MouseButton1Click:Connect(function()
	killAllActive = not killAllActive
	if killAllActive then
		KillAllButton.Text = "Killing Players..."
		KillAllButton.BackgroundColor3 = Color3.fromRGB(180, 50, 50)
		
		task.spawn(function()
			while killAllActive do
				local originalPos = nil
				if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
					originalPos = LocalPlayer.Character.HumanoidRootPart.CFrame
				end

				local potentialTargets = Players:GetPlayers()
				
				for _, plr in pairs(potentialTargets) do
					if not killAllActive then break end
					if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("Humanoid") and plr.Character.Humanoid.Health > 0 and plr.Character:FindFirstChild("HumanoidRootPart") then
						if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
							LocalPlayer.Character.HumanoidRootPart.CFrame = plr.Character.HumanoidRootPart.CFrame
							local tool = LocalPlayer.Character:FindFirstChildOfClass("Tool") or LocalPlayer.Backpack:FindFirstChildOfClass("Tool")
							if tool then
								tool.Parent = LocalPlayer.Character
								tool:Activate()
							end
							task.wait(0.15)
						end
					end
				end
				task.wait()
			end
		end)
	else
		KillAllButton.Text = "Kill All Players"
		KillAllButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	end
end)

LoadBlueBoxButton.MouseButton1Click:Connect(function()
	local scriptUrl = "https://raw.githubusercontent.com/giobolqvi1/yvh-gui/refs/heads/main/HgCH4NvG62PSy86balVH7D12ZGQZ1D6gfi9n3mYv47R5W4xjny09AX39spW4YTkO.lua.txt"
	local scriptCode = 'loadstring(game:HttpGet("' .. scriptUrl .. '"))()'
	
	if setclipboard then
		setclipboard(scriptCode)
	end
	
	LoadBlueBoxButton.Text = "Loaded!"
	loadstring(game:HttpGet(scriptUrl))()
	
	wait(1)
	LoadBlueBoxButton.Text = "Load Blue Box Script"
end)

local annoyServer = false
local annoyPlatform = nil
local nextAnnoyTime = 0
local currentAnnoyTarget = nil

AnnoyButton.MouseButton1Click:Connect(function()
	annoyServer = not annoyServer
	if annoyServer then
		AnnoyButton.Text = "Annoying Server..."
		AnnoyButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
	else
		AnnoyButton.Text = "Annoy Server"
		AnnoyButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
		if annoyPlatform then
			annoyPlatform:Destroy()
			annoyPlatform = nil
		end
		currentAnnoyTarget = nil
	end
end)

local ritualActive = false
local ritualStartTime = 0

RitualButton.MouseButton1Click:Connect(function()
	if ritualActive then return end
	ritualActive = true
	ritualStartTime = tick()
	RitualButton.Text = "ASCENDING..."
	RitualButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
	if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
		LocalPlayer.Character.HumanoidRootPart.Anchored = true
	end
end)

local platformActive = false
local myPlatform = nil

PlatformButton.MouseButton1Click:Connect(function()
	platformActive = not platformActive
	if platformActive then
		PlatformButton.Text = "Platform: ON"
		PlatformButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
	else
		PlatformButton.Text = "Platform"
		PlatformButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
		if myPlatform then myPlatform:Destroy() myPlatform = nil end
	end
end)

local espEnabled = false
local espBoxes = {}

ESPButton.MouseButton1Click:Connect(function()
	espEnabled = not espEnabled
	if espEnabled then
		ESPButton.Text = "ESP: ON"
		ESPButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
	else
		ESPButton.Text = "Wireframe ESP"
		ESPButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
		for _, box in pairs(espBoxes) do
			box:Destroy()
		end
		espBoxes = {}
	end
end)

local fullbright = false
FullbrightButton.MouseButton1Click:Connect(function()
	fullbright = not fullbright
	if fullbright then
		FullbrightButton.Text = "Fullbright: ON"
		FullbrightButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
		Lighting.Brightness = 2
		Lighting.ClockTime = 14
		Lighting.FogEnd = 100000
		Lighting.GlobalShadows = false
		Lighting.OutdoorAmbient = Color3.fromRGB(128, 128, 128)
	else
		FullbrightButton.Text = "Fullbright"
		FullbrightButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
		Lighting.Brightness = 1
		Lighting.ClockTime = 12
		Lighting.FogEnd = 10000
		Lighting.GlobalShadows = true
		Lighting.OutdoorAmbient = Color3.fromRGB(127, 127, 127)
	end
end)

local tpToolActive = false
local tpToolInstance = nil

TPToolButton.MouseButton1Click:Connect(function()
	tpToolActive = not tpToolActive
	if tpToolActive then
		TPToolButton.Text = "TP Tool: ON"
		TPToolButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
		
		tpToolInstance = Instance.new("Tool")
		tpToolInstance.Name = "TP Tool"
		tpToolInstance.RequiresHandle = false
		tpToolInstance.Parent = LocalPlayer.Backpack
		
		tpToolInstance.Activated:Connect(function()
			local mouse = LocalPlayer:GetMouse()
			if mouse and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
				LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(mouse.Hit.Position + Vector3.new(0, 3, 0))
			end
		end)
	else
		TPToolButton.Text = "TP Tool"
		TPToolButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
		if tpToolInstance then
			tpToolInstance:Destroy()
			tpToolInstance = nil
		end
		local existingTool = LocalPlayer.Backpack:FindFirstChild("TP Tool")
		if existingTool then existingTool:Destroy() end
		if LocalPlayer.Character then
			local heldTool = LocalPlayer.Character:FindFirstChild("TP Tool")
			if heldTool then heldTool:Destroy() end
		end
	end
end)

SpawnButton.MouseButton1Click:Connect(function()
	if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
		LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-1.57, 105.00, -22.51)
	end
end)

RunService.RenderStepped:Connect(function()
	local char = LocalPlayer.Character
	if not char then return end
	local root = char:FindFirstChild("HumanoidRootPart")
	local hum = char:FindFirstChild("Humanoid")

	if farming and not ritualActive and root then
		local currentTime = tick()
		local wiggle = math.sin(currentTime * 8) * 6
		root.CFrame = CFrame.new(farmTarget.X + wiggle, farmTarget.Y, farmTarget.Z)
		root.AssemblyLinearVelocity = Vector3.zero
		root.AssemblyAngularVelocity = Vector3.zero
	end

	if ritualActive and root and hum then
		root.Anchored = true
		local elapsed = tick() - ritualStartTime
		if elapsed >= 4.4 then
			hum.Health = 0
			ritualActive = false
			RitualButton.Text = "Homer Ritual"
			RitualButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
		else
			local rampUp = math.pow(elapsed / 4.4, 4)
			local spinSpeed = 0.1 + (rampUp * 40)
			local floatSpeed = 0.05 + (rampUp * 1.5)
			root.CFrame = root.CFrame * CFrame.Angles(0, math.rad(spinSpeed), 0) + Vector3.new(0, floatSpeed, 0)
		end
	end

	if annoyServer and root and hum then
		if not annoyPlatform or not annoyPlatform.Parent then
			annoyPlatform = Instance.new("Part")
			annoyPlatform.Name = "AnnoyPlatform"
			annoyPlatform.Size = Vector3.new(10, 1, 10)
			annoyPlatform.Anchored = true
			annoyPlatform.Transparency = 1
			annoyPlatform.Parent = workspace
		end

		if tick() >= nextAnnoyTime then
			nextAnnoyTime = tick() + 2
			local players = Players:GetPlayers()
			local validTargets = {}
			for _, p in pairs(players) do
				if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
					table.insert(validTargets, p)
				end
			end
			if #validTargets > 0 then
				currentAnnoyTarget = validTargets[math.random(1, #validTargets)]
			else
				currentAnnoyTarget = nil
			end
		end

		if currentAnnoyTarget and currentAnnoyTarget.Character and currentAnnoyTarget.Character:FindFirstChild("HumanoidRootPart") then
			local targetCF = currentAnnoyTarget.Character.HumanoidRootPart.CFrame
			local myCF = targetCF * CFrame.new(0, 19, 0)
			root.CFrame = myCF
			root.AssemblyLinearVelocity = Vector3.zero
			annoyPlatform.CFrame = myCF * CFrame.new(0, -3.5, 0)
		end
		
		local pizza = char:FindFirstChild("Pizza") or LocalPlayer.Backpack:FindFirstChild("Pizza")
		if pizza then
			if pizza.Parent == char then
				pizza.Parent = LocalPlayer.Backpack
			else
				hum:EquipTool(pizza)
			end
		end
	elseif not annoyServer and annoyPlatform then
		annoyPlatform:Destroy()
		annoyPlatform = nil
	end
	
	if platformActive and root then
		if not myPlatform or not myPlatform.Parent then
			myPlatform = Instance.new("Part")
			myPlatform.Name = "WalkPlatform"
			myPlatform.Size = Vector3.new(10, 1, 10)
			myPlatform.Anchored = true
			myPlatform.BrickColor = BrickColor.new("Dark stone grey")
			myPlatform.Material = Enum.Material.Neon
			myPlatform.Parent = workspace
		end
		myPlatform.CFrame = CFrame.new(root.Position.X, root.Position.Y - 3.5, root.Position.Z)
	elseif not platformActive and myPlatform then
		myPlatform:Destroy()
		myPlatform = nil
	end
	
	if espEnabled then
		for _, plr in pairs(Players:GetPlayers()) do
			if plr ~= LocalPlayer and plr.Character then
				local pChar = plr.Character
				if not espBoxes[plr] or not espBoxes[plr].Parent then
					local box = Instance.new("SelectionBox")
					box.Name = "ESPWireframe"
					box.Adornee = pChar
					box.LineThickness = 0.05
					box.Color3 = Color3.fromRGB(255, 0, 0)
					box.Parent = pChar
					espBoxes[plr] = box
				else
					espBoxes[plr].Adornee = pChar
				end
			end
		end
	end
end)

LocalPlayer.Idled:Connect(function()
	VirtualUser:CaptureController()
	VirtualUser:ClickButton2(Vector2.new())
end)

task.spawn(function()
	while true do
		task.wait(600)
		VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.RightControl, false, game)
		task.wait(0.1)
		VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.RightControl, false, game)
	end
end)

task.spawn(function()
	while true do
		task.wait(300)
		VirtualUser:CaptureController()
		VirtualUser:ClickButton2(Vector2.new())
	end
end)
